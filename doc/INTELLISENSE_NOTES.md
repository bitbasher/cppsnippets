# VS Code IntelliSense Configuration

**AGENT NOTES FOR VS CODE INTELLISENSE:**

File: `.vscode/c_cpp_properties.json`

**Key Settings:**
- `configurationProvider`: `ms-vscode.cmake-tools` (official Microsoft extension)
- Automatically discovers Qt headers and all project includes from CMake
- No need to manually list include paths for external libraries

**Architecture:**
- Platform: Windows MSVC + Visual Studio 17 2022 generator
- NOT Clang, NOT Ninja, NOT Unix generators
- See DEVELOPMENT.md section 2 for why

**PowerShell Environment:**
- This is Windows PowerShell, NOT Bash
- Avoid Unix commands: head, tail, grep, wc
- Use PowerShell equivalents: Select-Object -First N / -Last N
- See DEVELOPMENT.md section 4 for full list

---

## Build Variants (Debug & Release)

File: `.vscode/settings.json`

**CMake Variants Configured:**
- `debug` (default) — Debug build with symbols for debugging
- `release` — Release build optimized for performance

**How to use:**
1. In VS Code, look for the **Build variant selector** in the CMake toolbar
2. Click to switch between "Debug" and "Release"
3. The toolbar will rebuild with the selected configuration
4. You can also build/test for each variant independently

**What this does:**
- Visual Studio 17 2022 is a multi-config generator
- Variants allow switching between Debug/Release at build time
- Same binary configuration exists in the build tree (no need to reconfigure)

---

## Troubleshooting

**If Qt headers show red squiggles:**
1. Rebuild: `cmake --build .`
2. Reload VS Code: Ctrl+K Ctrl+R
3. Ensure ms-vscode.cmake-tools extension is installed and active

**If generic includes still missing:**
1. Verify CMakeLists.txt lines 3-6 (job pool configuration)
2. Run: `cmake --build .`
3. Reload VS Code

**If Build variant selector doesn't appear:**
1. Reload VS Code
2. Check settings.json has `cmake.variants` (added December 21, 2025)
3. Run CMake Configure (F7) to refresh

See DEVELOPMENT.md section 3 for detailed troubleshooting.

---

## System Compiler Inventory (Updated January 4, 2026)

**Current System Configuration:**
- December 2025 updates installed VS 18 (new) alongside existing VS 2022
- Both VS and VS Code installations are parallel, not replacements

### Visual Studio Installations

**Visual Studio 18 Insiders** (Newest)
- **Location**: `C:/Program Files/Microsoft Visual Studio/18/Insiders/`
- **MSVC Versions Available**: 14.16, 14.29, 14.44, 14.50 (most recent)
- **Clang-cl Compiler**: ✅ Available at `VC/Tools/Llvm/x64/bin/clang-cl.exe`
- **Status**: Primary compiler for this project (used for IntelliSense)
- **compilerPath Setting**:
  ```json
  "compilerPath": "C:/Program Files/Microsoft Visual Studio/18/Insiders/VC/Tools/Llvm/x64/bin/clang-cl.exe"
  ```

**Visual Studio 2022 Community** (December 2025 update)
- **Location**: `C:/Program Files/Microsoft Visual Studio/2022/Community/`
- **MSVC Version Available**: 14.44.35207 (older than VS 18's 14.50)
- **Clang-cl Compiler**: ❌ Not available
- **Alternative compiler path** (if needed):
  ```json
  "C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.44.35207/bin/Hostx64/x64/cl.exe"
  ```
- **Status**: Fallback available but not preferred (older toolchain)

### VS Code Installations

**VS Code Stable** (Version 1.107.1)
- **Location**: `C:\Program Files\Microsoft VS Code`
- **Built-in Compilers**: ❌ None (pure editor)
- **Built-in Extensions**: 94
- **Purpose**: Editor only—relies on external compilers from Visual Studio
- **Executable**: `code.exe` and `code.cmd`

**VS Code Insiders**
- **Location**: `C:\Program Files\Microsoft VS Code Insiders`
- **Built-in Compilers**: ❌ None (pure editor)
- **Built-in Extensions**: Minimal (fresh install)
- **Purpose**: Same as stable—pure editor
- **Executable**: `code-insiders.exe` and `code-insiders.cmd`

### How IntelliSense Resolves Compilers

VS Code does **NOT** include compilers. Instead:
1. **ms-vscode.cmake-tools** extension discovers external compilers
2. **compilerPath** in `c_cpp_properties.json` tells IntelliSense which compiler to use for parsing
3. **compile_commands.json** (generated by CMake during build) provides build flag context
4. IntelliSense combines all three for accurate C++ parsing

### Current Project Configuration

- ✅ Using VS 18 Insiders (newest toolchain, clang-cl available)
- ✅ Both VS installations coexist without conflicts
- ✅ VS Code points to VS 18 Insiders for IntelliSense
- ✅ CMake generates compile_commands.json for build discovery
- ✅ No compiler path conflicts or dependency issues
